import{r,j as e,L as j,f as m,y as d}from"./index-BU-rm2uI.js";import{H as u}from"./Helmet-CYjTrV5H.js";import{a as f}from"./api-DTyocR7z.js";function y(){const[i,n]=r.useState(!1),[a,l]=r.useState([]),[g,c]=r.useState(""),[p,o]=r.useState("");async function x(){const s=sessionStorage.getItem("GradesCode");if(!s){d.error("كود الطالب غير موجود، يرجى تسجيل الدخول مرة أخرى.");return}try{n(!0);let{data:t}=await f.get(`/api/exam/student-scores/${s}`);d.success("تم جلب درجات الامتحانات بنجاح."),l(t.data.scores)}catch(t){d.error("حدثت مشكلة أثناء جلب درجات الامتحانات!"),console.error(t)}finally{n(!1)}}function h(s,t){sessionStorage.setItem("StudentDegreesExamCode",s),sessionStorage.setItem("StudentDegreesDegreesCode",t),o(s),c(t)}return r.useEffect(()=>{x()},[]),i?e.jsx(j,{}):e.jsxs(e.Fragment,{children:[e.jsx(u,{children:e.jsx("title",{children:"درجات الامتحانات"})}),e.jsxs("section",{className:"my-5 py-3",children:[e.jsx("h5",{className:"fw-bold m-3",children:"درجات الامتحانات :"}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("table",{className:"table table-bordered text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"عنوان الامتحان"}),e.jsx("th",{children:"التاريخ"}),e.jsx("th",{children:"الوقت"}),e.jsx("th",{children:"الدرجة"}),e.jsx("th",{children:"تفاصيل الامتحان"})]})}),e.jsx("tbody",{children:a.length>0?a.map((s,t)=>s?e.jsxs("tr",{children:[e.jsx("td",{children:t+1}),e.jsx("td",{children:s.examTitle}),e.jsx("td",{children:s.date}),e.jsx("td",{children:s.time}),e.jsxs("td",{children:[s.score," من ",s.degree]}),e.jsx("td",{children:e.jsx(m,{to:"/grades-details",children:e.jsx("button",{className:"btn btn-sm rounded-0",onClick:()=>h(s.examCode,s.studentCode),children:"التفاصيل"})})})]},s.examCode):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"بيانات الطالب غير صالحه."})},t)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"لا توجد درجات متاحة."})})})]})})})})]})]})}export{y as default};
