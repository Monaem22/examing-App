import{r as d,y as i,j as e,L as j,f as c}from"./index-BvLg1fWM.js";import{H as u}from"./Helmet-BZH04Yzz.js";import{a as f}from"./api-sjr0-pHH.js";import{I as g}from"./index-Ci69w3Nc.js";function E(){const[l,n]=d.useState(!1),[r,o]=d.useState([]),[S,a]=d.useState(""),[p,x]=d.useState("");async function h(s){try{n(!0);let{data:t}=await f.get(`/api/exam/student-scores-admin/${s}`);i.success("تم جلب درجات الامتحانات بنجاح."),o(t.data.scores),n(!1)}catch{n(!1)}}function m(s,t){sessionStorage.setItem("StudentExamCode",s),sessionStorage.setItem("StudentDegreesCode",t),x(s),a(t)}return d.useEffect(()=>{const s=sessionStorage.getItem("StudentDegreesCode");s?(a(s),h(s)):i.error("كود الطالب غير موجود، يرجى تحديد المحاولة لاحقا .")},[]),l?e.jsx(j,{}):e.jsxs(e.Fragment,{children:[e.jsx(u,{children:e.jsx("title",{children:"درجات الامتحانات"})}),e.jsx("section",{className:"my-5 py-3",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-2 mb-3",children:[e.jsx("h5",{className:"fw-bold dash-header mt-3",children:"درجات الامتحانات :"}),e.jsx(c,{to:"/student-grades",className:"redirect-link",children:e.jsxs("button",{className:"btn px-4 rounded-0 fs-6",children:["الرجوع الى درجات جميع الطلاب"," ",e.jsx(g,{size:18,className:"mx-2"})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("table",{className:"table table-bordered text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"كود الامتحان"}),e.jsx("th",{children:"عنوان الامتحان"}),e.jsx("th",{children:"الدرجة"}),e.jsx("th",{children:"تفاصيل الامتحان"})]})}),e.jsx("tbody",{children:r.length>0?r.map((s,t)=>s?e.jsxs("tr",{children:[e.jsx("td",{children:t+1}),e.jsx("td",{children:s.examCode}),e.jsx("td",{children:s.examTitle}),e.jsxs("td",{children:[" ",s.score," من ",s.degree]}),e.jsx("td",{children:e.jsx(c,{to:"/exam-degrees-details",children:e.jsx("button",{className:"btn btn-sm rounded-0",onClick:()=>m(s.examCode,s.studentCode),children:"التفاصيل"})})})]},s.examCode):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"بيانات الطالب غير صالحة."})},t)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"لا توجد درجات متاحة."})})})]})})})]})})]})}export{E as default};
